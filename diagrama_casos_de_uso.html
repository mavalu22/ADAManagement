<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Diagrama de Casos de Uso — ADAManagement</title>
  <style>
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: #f0fdf4;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      margin: 0;
      padding: 24px;
      box-sizing: border-box;
    }
  </style>
</head>
<body>
<svg width="1120" height="760" xmlns="http://www.w3.org/2000/svg"
     style="filter: drop-shadow(0 6px 24px rgba(0,0,0,0.13)); border-radius: 14px; display:block;">

  <defs>
    <marker id="assocAmber" markerWidth="9" markerHeight="7" refX="8" refY="3.5" orient="auto">
      <polygon points="0 0, 9 3.5, 0 7" fill="#d97706"/>
    </marker>
    <marker id="assocGreen" markerWidth="9" markerHeight="7" refX="8" refY="3.5" orient="auto">
      <polygon points="0 0, 9 3.5, 0 7" fill="#059669"/>
    </marker>
    <marker id="assocBlue" markerWidth="9" markerHeight="7" refX="8" refY="3.5" orient="auto">
      <polygon points="0 0, 9 3.5, 0 7" fill="#0284c7"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="1120" height="760" fill="white" rx="14"/>

  <!-- ── TITLE ── -->
  <text x="560" y="36" text-anchor="middle" font-size="17" font-weight="700" fill="#064e3b">Diagrama de Casos de Uso — ADAManagement</text>
  <text x="560" y="55" text-anchor="middle" font-size="11" fill="#6b7280">Sistema de Acompanhamento Discente · UFES · 3 Atores · 12 Casos de Uso</text>

  <!-- ════════════════════════════════════════════════════ -->
  <!-- SYSTEM BOUNDARY                                      -->
  <!-- ════════════════════════════════════════════════════ -->
  <rect x="210" y="68" width="888" height="668" rx="10" fill="#fafffe"
        stroke="#059669" stroke-width="2.5" stroke-dasharray="10,5"/>
  <text x="654" y="88" text-anchor="middle" font-size="12" font-weight="700" fill="#059669">« sistema »  ADAManagement</text>

  <!-- ─── ADMIN-ONLY SECTION (amber) ─── -->
  <rect x="228" y="96" width="852" height="155" rx="8"
        fill="#fffbeb" stroke="#d97706" stroke-width="1.8"/>
  <rect x="228" y="96" width="268" height="24" rx="5" fill="#d97706"/>
  <text x="362" y="113" text-anchor="middle" font-size="11" font-weight="700" fill="white">Exclusivo — Administradores</text>

  <!-- UC02 -->
  <ellipse cx="490" cy="176" rx="118" ry="30" fill="#fef3c7" stroke="#d97706" stroke-width="1.8"/>
  <text x="490" y="170" text-anchor="middle" font-size="10.5" font-weight="700" fill="#92400e">UC02</text>
  <text x="490" y="185" text-anchor="middle" font-size="10"   fill="#92400e">Gerenciar Usuários</text>

  <!-- UC03 -->
  <ellipse cx="870" cy="176" rx="158" ry="30" fill="#fef3c7" stroke="#d97706" stroke-width="1.8"/>
  <text x="870" y="170" text-anchor="middle" font-size="10.5" font-weight="700" fill="#92400e">UC03</text>
  <text x="870" y="185" text-anchor="middle" font-size="10"   fill="#92400e">Importar Dados Acadêmicos (CSV/XLSX)</text>

  <!-- ─── ALL-USERS SECTION (green) ─── -->
  <rect x="228" y="264" width="852" height="454" rx="8"
        fill="#f0fdf4" stroke="#059669" stroke-width="1.5"/>
  <rect x="228" y="264" width="308" height="24" rx="5" fill="#059669"/>
  <text x="382" y="281" text-anchor="middle" font-size="11" font-weight="700" fill="white">Todos os Usuários Autenticados</text>

  <!-- ── UC Grid: 3 colunas × 4 linhas ── -->
  <!-- cx: 390 | 655 | 940    ry: 30    rx: 110 -->

  <!-- Row 1  y=345 -->
  <ellipse cx="390" cy="345" rx="112" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="390" y="339" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC01</text>
  <text x="390" y="354" text-anchor="middle" font-size="10"   fill="#064e3b">Autenticar</text>

  <ellipse cx="655" cy="345" rx="130" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="655" y="339" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC04</text>
  <text x="655" y="354" text-anchor="middle" font-size="10"   fill="#064e3b">Consultar Relatório Acadêmico</text>

  <ellipse cx="955" cy="345" rx="115" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="955" y="339" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC07</text>
  <text x="955" y="354" text-anchor="middle" font-size="10"   fill="#064e3b">Visualizar Indicadores</text>

  <!-- Row 2  y=445 -->
  <ellipse cx="390" cy="445" rx="112" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="390" y="439" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC05</text>
  <text x="390" y="454" text-anchor="middle" font-size="10"   fill="#064e3b">Consultar Base de Alunos</text>

  <ellipse cx="655" cy="445" rx="130" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="655" y="439" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC08</text>
  <text x="655" y="454" text-anchor="middle" font-size="10"   fill="#064e3b">Visualizar Histórico do Aluno</text>

  <ellipse cx="955" cy="445" rx="115" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="955" y="439" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC10</text>
  <text x="955" y="454" text-anchor="middle" font-size="10"   fill="#064e3b">Selecionar Semestre</text>

  <!-- Row 3  y=545 -->
  <ellipse cx="390" cy="545" rx="112" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="390" y="539" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC06</text>
  <text x="390" y="554" text-anchor="middle" font-size="10"   fill="#064e3b">Consultar Cursos</text>

  <ellipse cx="655" cy="545" rx="130" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="655" y="539" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC09</text>
  <text x="655" y="554" text-anchor="middle" font-size="10"   fill="#064e3b">Registrar Ações de Acompanhamento</text>

  <ellipse cx="955" cy="545" rx="115" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="955" y="539" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC11</text>
  <text x="955" y="554" text-anchor="middle" font-size="10"   fill="#064e3b">Alternar Tema Claro/Escuro</text>

  <!-- Row 4  y=645 -->
  <ellipse cx="390" cy="645" rx="112" ry="30" fill="#ecfdf5" stroke="#059669" stroke-width="1.5"/>
  <text x="390" y="639" text-anchor="middle" font-size="10.5" font-weight="700" fill="#064e3b">UC12</text>
  <text x="390" y="654" text-anchor="middle" font-size="10"   fill="#064e3b">Editar Perfil</text>

  <!-- note in row 4 right area -->
  <rect x="536" y="614" width="528" height="58" rx="7" fill="white" stroke="#86efac" stroke-width="1.2"/>
  <text x="546" y="630" font-size="9.5" font-weight="700" fill="#047857">Modos especiais do UC04 (via parâmetro de URL):</text>
  <text x="546" y="645" font-size="9"   fill="#374151">?mode=critical → alunos críticos (locks &gt; 1 OU semestres sem CH &gt; 1)</text>
  <text x="546" y="659" font-size="9"   fill="#374151">?max_pending=6 → próximos da formatura (pendentes ≤ 6)</text>

  <!-- ════════════════════════════════════════════════════ -->
  <!-- ACTORS                                               -->
  <!-- ════════════════════════════════════════════════════ -->

  <!-- helper: stick figure macro -->
  <!-- Admin Master  cy_head=108 -->
  <circle cx="90" cy="108" r="19" fill="white" stroke="#064e3b" stroke-width="2.2"/>
  <!-- Crown -->
  <polygon points="74,107 82,96 90,104 98,96 106,107" fill="#d97706" stroke="#92400e" stroke-width="1"/>
  <line x1="90" y1="127" x2="90" y2="170" stroke="#064e3b" stroke-width="2.2"/>
  <line x1="67"  y1="146" x2="113" y2="146" stroke="#064e3b" stroke-width="2.2"/>
  <line x1="90"  y1="170" x2="67"  y2="197" stroke="#064e3b" stroke-width="2.2"/>
  <line x1="90"  y1="170" x2="113" y2="197" stroke="#064e3b" stroke-width="2.2"/>
  <rect x="40" y="203" width="100" height="40" rx="6" fill="#064e3b"/>
  <text x="90" y="219" text-anchor="middle" font-size="10.5" font-weight="700" fill="white">Admin Master</text>
  <text x="90" y="234" text-anchor="middle" font-size="9"    fill="#6ee7b7">ID=1 · Irrestrito</text>

  <!-- Generalization: Admin Master → Admin (Admin Master é um Admin mais privilegiado) -->
  <!-- Hollow triangle pointing toward Admin (downward) -->
  <line x1="90" y1="243" x2="90" y2="296" stroke="#374151" stroke-width="1.8" stroke-dasharray="6,3"/>
  <polygon points="80,296 100,296 90,312" fill="white" stroke="#374151" stroke-width="1.5"/>
  <rect x="95" y="260" width="52" height="18" rx="3" fill="#f3f4f6" stroke="#d1d5db" stroke-width="1"/>
  <text x="121" y="273" text-anchor="middle" font-size="8" fill="#6b7280">herda de</text>

  <!-- Admin  cy_head=330 -->
  <circle cx="90" cy="330" r="19" fill="white" stroke="#047857" stroke-width="2.2"/>
  <circle cx="90" cy="330" r="8"  fill="none" stroke="#047857" stroke-width="1.5"/>
  <line x1="90" y1="349" x2="90" y2="392" stroke="#047857" stroke-width="2.2"/>
  <line x1="67"  y1="368" x2="113" y2="368" stroke="#047857" stroke-width="2.2"/>
  <line x1="90"  y1="392" x2="67"  y2="419" stroke="#047857" stroke-width="2.2"/>
  <line x1="90"  y1="392" x2="113" y2="419" stroke="#047857" stroke-width="2.2"/>
  <rect x="40" y="425" width="100" height="40" rx="6" fill="#047857"/>
  <text x="90" y="441" text-anchor="middle" font-size="10.5" font-weight="700" fill="white">Administrador</text>
  <text x="90" y="456" text-anchor="middle" font-size="9"    fill="#a7f3d0">role = 'admin'</text>

  <!-- Generalization: Admin → Usuário -->
  <line x1="90" y1="465" x2="90" y2="516" stroke="#374151" stroke-width="1.8" stroke-dasharray="6,3"/>
  <polygon points="80,516 100,516 90,532" fill="white" stroke="#374151" stroke-width="1.5"/>
  <rect x="95" y="483" width="52" height="18" rx="3" fill="#f3f4f6" stroke="#d1d5db" stroke-width="1"/>
  <text x="121" y="496" text-anchor="middle" font-size="8" fill="#6b7280">herda de</text>

  <!-- Usuário  cy_head=552 -->
  <circle cx="90" cy="552" r="19" fill="white" stroke="#0284c7" stroke-width="2.2"/>
  <line x1="90" y1="571" x2="90" y2="614" stroke="#0284c7" stroke-width="2.2"/>
  <line x1="67"  y1="590" x2="113" y2="590" stroke="#0284c7" stroke-width="2.2"/>
  <line x1="90"  y1="614" x2="67"  y2="641" stroke="#0284c7" stroke-width="2.2"/>
  <line x1="90"  y1="614" x2="113" y2="641" stroke="#0284c7" stroke-width="2.2"/>
  <rect x="40" y="647" width="100" height="40" rx="6" fill="#0284c7"/>
  <text x="90" y="663" text-anchor="middle" font-size="10.5" font-weight="700" fill="white">Usuário</text>
  <text x="90" y="678" text-anchor="middle" font-size="9"    fill="#bae6fd">role = 'user'</text>

  <!-- ════════════════════════════════════════════════════ -->
  <!-- ASSOCIATION LINES — 5 linhas, sem cruzamentos       -->
  <!-- ════════════════════════════════════════════════════ -->

  <!--
    Estratégia:
    1. Admin Master → Amber:  reta direta em y=128 (acima do centro do ator)
    2. Admin         → Amber:  cotovelo: sobe de y=350 até y=168, entra pelo lado esquerdo
    3. Admin Master  → Green:  cotovelo: desce de y=152 até y=330, entra pelo lado esquerdo
    4. Admin         → Green:  reta direta em y=368
    5. Usuário       → Green:  reta direta em y=555
    Não há cruzamento pois as linhas 1/3 do Admin Master saem em y diferentes,
    e as linhas do Admin (2 e 4) usam x de roteamento separados (162 vs linha direta).
  -->

  <!-- 1. Admin Master → Amber section (amber line) -->
  <line x1="109" y1="128" x2="228" y2="128"
        stroke="#d97706" stroke-width="2" marker-end="url(#assocAmber)"/>
  <text x="168" y="122" text-anchor="middle" font-size="8.5" font-weight="600" fill="#d97706">acessa</text>

  <!-- 2. Admin → Amber section (elbow going UP, amber line) -->
  <path d="M 109,350 L 162,350 L 162,166 L 228,166" fill="none"
        stroke="#d97706" stroke-width="2" stroke-dasharray="7,3" marker-end="url(#assocAmber)"/>

  <!-- 3. Admin Master → Green section (elbow going DOWN, green line) -->
  <path d="M 109,152 L 175,152 L 175,330 L 228,330" fill="none"
        stroke="#059669" stroke-width="2" marker-end="url(#assocGreen)"/>
  <text x="152" y="245" text-anchor="middle" font-size="8.5" font-weight="600" fill="#059669">acessa</text>

  <!-- 4. Admin → Green section (straight, green line) -->
  <line x1="109" y1="368" x2="228" y2="368"
        stroke="#059669" stroke-width="2" stroke-dasharray="7,3" marker-end="url(#assocGreen)"/>

  <!-- 5. Usuário → Green section (straight, blue line) -->
  <line x1="109" y1="555" x2="228" y2="555"
        stroke="#0284c7" stroke-width="2" marker-end="url(#assocBlue)"/>
  <text x="168" y="549" text-anchor="middle" font-size="8.5" font-weight="600" fill="#0284c7">acessa</text>

  <!-- ════════════════════════════════════════════════════ -->
  <!-- LEGEND                                               -->
  <!-- ════════════════════════════════════════════════════ -->
  <rect x="210" y="700" width="888" height="50" rx="8"
        fill="#f9fafb" stroke="#d1d5db" stroke-width="1"/>

  <!-- col 1 -->
  <line x1="228" y1="726" x2="268" y2="726" stroke="#374151" stroke-width="1.8" stroke-dasharray="5,3"/>
  <polygon points="262,722 275,726 262,730" fill="white" stroke="#374151" stroke-width="1.3"/>
  <text x="380" y="730" text-anchor="middle" font-size="9" fill="#374151">Generalização de ator (herança de papel/acesso)</text>

  <!-- col 2 -->
  <line x1="560" y1="726" x2="600" y2="726" stroke="#d97706" stroke-width="2" marker-end="url(#assocAmber)"/>
  <text x="720" y="730" text-anchor="middle" font-size="9" fill="#374151">Associação — Admin / Admin Master (sólida ou tracejada)</text>

  <!-- col 3 -->
  <line x1="900" y1="726" x2="940" y2="726" stroke="#0284c7" stroke-width="2" marker-end="url(#assocBlue)"/>
  <text x="1015" y="730" text-anchor="middle" font-size="9" fill="#374151">Associação — Usuário</text>

  <!-- hierarchy note -->
  <text x="560" y="716" text-anchor="middle" font-size="8.5" fill="#6b7280" font-weight="600">
    Hierarquia de papéis: Admin Master ⊇ Admin ⊇ Usuário — cada papel herda todos os casos de uso do papel mais simples.
  </text>

</svg>
</body>
</html>
